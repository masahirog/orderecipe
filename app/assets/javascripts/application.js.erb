//= require rails-ujs
//= require jquery3
//= require jquery.turbolinks
//= require activestorage
//= require select2
//= require cocoon
//= require turbolinks
//= require_tree .
//= require chartkick
//= require Chart.bundle
//= require jquery.datetimepicker



$(document).on("turbolinks:before-cache", function() {
  $('.input_select_menu').select2('destroy');
  $('.input_select_product').select2('destroy');
  $('.input_select_food_additive').select2('destroy');
  $('.all_select_material').select2('destroy');
  $('.select_used_additives').select2('destroy');
  $('.all_select_menu').select2('destroy');
  $('.input_select_material').select2('destroy');
  $('.input_food_ingredient').select2('destroy');
  $('.select_order_materials').select2('destroy');
  $('.material_search').select2('destroy');
  $('.input-stock-materials-name').select2('destroy');
  $('.item_select2').select2('destroy');
});

$(document).on('select2:open', () => {
   document.querySelector('.select2-search__field').focus();
 });

function kanma (number) {
  var number = parseFloat(number);
  var number1 = number * 100;
  // //四捨五入したあと、小数点の位置を元に戻す
  number1 = Math.round(number1) / 100;
  var numData = number1.toString().split('.');
  // 整数部分を3桁カンマ区切りへ
  numData[0] = Number(numData[0]).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ',');
  // 小数部分と結合して返却
  return numData.join('.');
};
